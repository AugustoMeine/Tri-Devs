<div class="w-full h-full p-2 text-0">

  <div class="w-full h-full
    p-0 m-0 b-0
    bg-indigo-900
    border-solid broder-round-2x1 surface-border
    grid">

    <p-table [value]="listaItens"
             selectionMode="single" [scrollable]="true"
             scrollHeight="calc(88vh)" class="w-full h-full cursor-pointer">
      <ng-template pTemplate="header">
        <tr class="grid p-0 b-0 m-0">
          <th class="col-2 text-center">Id Item</th>
          <th class="col-3 text-center">Nome</th>
          <th class="col-3 text-center">Preço unidade</th>
          <th class="col-2 text-center">Necessita Preparo</th>
          <th class="col-2 text-center">
            <div class="w-full h-full bg-green-600 cursor-pointer border- border-solid border-0 border-right-none"
                 (click)="cadastrarModel()">
              <i class="pi pi-plus text-green-900"></i>
            </div>
            <p-dialog header="Cadastrar Item" [(visible)]="cadastroVisivel" [style]="{width: '60vw', height: '90vh'}">
              <div class="w-full h-full b-0 m-0 p-0 grid">
                <!--Linha 1 - Nome -->
                <div class="p-inputgroup col-12 h-3 b-0 m-0 p-2 grid">
                            <span class="p-inputgroup-addon">
                                Nome
                            </span>
                  <input pInputText type="text" [(ngModel)]="itemCadastro.nome"/>
                </div>
                <!--Linha 2 - Login -->
                <div class="p-inputgroup col-12 h-3 b-0 m-0 p-2 grid">
                            <span class="p-inputgroup-addon">
                                Preço unidade
                            </span>
                  <input pInputText type="number" [(ngModel)]="itemCadastro.precoUnidade"/>
                </div>
                <div class="p-inputgroup col-12 h-3 b-0 m-0 p-2 grid">
                  <div class="flex flex-wrap gap-3">
                    <div class="flex align-items-center">
                      <p-radioButton name="Necessita Preparo" value=true [(ngModel)]="itemCadastro.necessitaPreparoCozinha" inputId="necessitaPreparo"></p-radioButton>
                      <label for="necessitaPreparo" class="ml-2">Necessita Preparo</label>
                    </div>

                    <div class="flex align-items-center">
                      <p-radioButton name="Não Necessita Preparo" value=false [(ngModel)]="itemCadastro.necessitaPreparoCozinha" inputId="naoNecessitaPreparo"></p-radioButton>
                      <label for="naoNecessitaPreparo" class="ml-2">Não Necessita Preparo</label>
                    </div>

                  </div>
                </div>
                <!-- Botão para confirmar -->
                <div class="col-12 h-3 b-0 m-0 p-2 grid">
                  <div class="pi pi-check p-0 m-0 b-0
                            w-full h-full
                            bg-green-100 text-green-500
                            flex justify-content-center align-items-center
                            cursor-pointer
                            border-round-2xl border-solid" (click)="realizarCadastro()">
                  </div>
                </div>
              </div>
            </p-dialog>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item >
        <tr class="grid p-0 m-0 b-0">
          <td class="col-2 text-center">{{item.idItem}}</td>
          <td class="col-3 text-center">{{item.nome}}</td>
          <td class="col-3 text-center">{{item.precoUnidade}}</td>
          <td class="col-2 text-center">{{item.necessitaPreparoCozinha}}</td>
          <td class="col-2 text-center h-full">
            <div class="w-full h-full p-0 m-0 b-0 outline-none grid">
              <div class="col-6 h-full bg-yellow-500 cursor-pointer border-2 border-solid border-0 border-right-none"
                   (click)="alterarModel(this.item)">
                <i class="pi pi-pencil text-yellow-800"></i>
              </div>
              <p-dialog header="Alterar Item" [(visible)]="alterarVisivel" [style]="{width: '60vw', height: '90vh'}">
                <div class="w-full h-full b-0 m-0 p-0 grid">
                  <div class="p-inputgroup col-12 h-4 b-0 m-0 p-2 grid">
                            <span class="p-inputgroup-addon">
                                Nome
                            </span>
                    <input pInputText type="text" [disabled]="true"  [value]="this.itemAlteracao.nome"/>
                  </div>

                  <div class="p-inputgroup col-12 h-4 b-0 m-0 p-2 grid">
                            <span class="p-inputgroup-addon">
                                Preço Unidade
                            </span>
                    <input pInputText type="text" [(ngModel)]="this.itemAlteracao.precoUnidade"/>
                  </div>

                  <div class="p-inputgroup col-12 h-4 b-0 m-0 p-2 grid">
                    <div class="flex flex-wrap gap-3">
                      <div class="flex align-items-center">
                        <p-radioButton name="Necessita Preparo" value=true [(ngModel)]="itemAlteracao.necessitaPreparoCozinha" inputId="necessitaPreparo"></p-radioButton>
                        <label for="necessitaPreparo" class="ml-2">Necessita Preparo</label>
                      </div>

                      <div class="flex align-items-center">
                        <p-radioButton name="Não Necessita Preparo" value=false [(ngModel)]="itemAlteracao.necessitaPreparoCozinha" inputId="naoNecessitaPreparo"></p-radioButton>
                        <label for="naoNecessitaPreparo" class="ml-2">Não Necessita Preparo</label>
                      </div>

                    </div>
                  </div>


                </div>

                <div class="col-12 h-2 b-0 m-0 p-2 grid">
                  <div class="pi pi-check p-0 m-0 b-0
                            w-full h-full
                            bg-green-100 text-green-500
                            flex justify-content-center align-items-center
                            cursor-pointer
                            border-round-2xl border-solid" (click)="alterarItem(item)">
                  </div>
                </div>
              </p-dialog>
              <div class="col-6 h-full bg-red-600 cursor-pointer border-2 border-solid border-0"
                   (click)="excluirItem(item)">
                <i class="pi pi-times text-red-900"></i>
              </div>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>

  </div>

</div>
